<form [formGroup]="tripForm" (ngSubmit)="onSubmit()" (keydown.enter)="$event.preventDefault()">
  <mat-form-field>
    <input
      matInput
      placeholder="Trip Name"
      #tripNameInput
      type="text" 
      id="tripName"
      formControlName="tripName">
  </mat-form-field>

  <mat-form-field>
    <input
      matInput
      placeholder="Destination"
      #destinationInput
      (blur)="onBlurDestinationInput(destinationInput.value)"
      formControlName="destination" 
      [matAutocomplete]="auto"
      [matAutocompleteConnectedTo]="origin">
    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" [displayWith]="displayFn">
      <mat-option *ngFor="let option of destinationOptions" [value]="option">{{ option.matching_full_name }}</mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <mat-form-field>
    <input
      #dateRange
      matInput
      placeholder="Dates"
      (selected)="selectedDate($event, daterange)"  
      type="text" 
      daterangepicker
      [options]="options" 
      formControlName="dateRange">
  </mat-form-field> 

  <div formArrayName="participants" class="form-group-box">
    <mat-form-field>
      <input  
        matInput
        placeholder="Username"
        [errorStateMatcher]="matcher"
        type="text"
        [(ngModel)]="username" 
        [ngModelOptions]="{standalone: true}">
      <mat-error *ngIf="true">
        Please username is <strong>required</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input 
        matInput 
        placeholder="Email"
        type="text"
        [(ngModel)]="email" 
        [ngModelOptions]="{standalone: true}">
    </mat-form-field>
    <button 
      type="button"
      class="zerwego-btn blue-btn btn-full-width"
      (click)="onAddAnotherParticipant(username, email)">
      Add {{ username }}
    </button> 
  </div>
  
  <mat-chip-list #chipList>
    <mat-chip *ngFor="let participant of formValues.participants" [selectable]="selectable"
[removable]="removable">
      {{participant.username}}
      <mat-icon matChipRemove (click)="onRemoveParticipant(participant.email)">cancel</mat-icon>
    </mat-chip>
  </mat-chip-list>

  <button type="submit" class="zerwego-btn green-btn">{{ greenBtnLabel }}</button>
</form> 